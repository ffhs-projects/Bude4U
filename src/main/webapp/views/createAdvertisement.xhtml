<!--
    View for creating a new advertisement.
-->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="jakarta.faces.facelets"
                template="/WEB-INF/layouts/template.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:define name="pageTitle">
        <p:outputLabel value="Inserat erstellen" style="font-size: 40px !important;"/>
    </ui:define>
    <ui:define name="title">
        <p:outputLabel for="title" value="Titel"/>
        <p:message id="messageAdvertisementTitle" for="title"/>
        <div class="ui-inputgroup pb-3">
            <p:inputText id="title" placeholder="Titel" value="#{advertisementBean.title}" required="true"
                         requiredMessage="Bitte Titel angeben"/>
        </div>
    </ui:define>

    <ui:define name="rooms">
        <p:outputLabel for="rooms" value="Zimmer"/>
        <p:message id="idRooms" for="rooms"/>
        <div class="ui-inputgroup pb-3">
            <p:selectOneMenu id="rooms" value="#{advertisementBean.rooms}" required="true"
                             requiredMessage="Bitte Zimmer angeben">
                <f:selectItem itemLabel="Bitte auswählen" itemValue=""/>
                <c:forEach var="roomCount" items="#{advertisementBean.roomsList}">
                    <f:selectItem itemLabel="${roomCount}" itemValue="${roomCount}"/>
                </c:forEach>
            </p:selectOneMenu>
        </div>
    </ui:define>

    <ui:define name="space">
        <p:outputLabel for="livingSpace" value="Wohnfläche"/>
        <p:message id="idlivingSpace" for="livingSpace"/>
        <div class="ui-inputgroup">
            <p:inputNumber id="livingSpace" value="#{advertisementBean.space}" required="true"
                           requiredMessage="Bitte Wohnfläche angeben."/>
            <div class="ui-inputgroup-addon">m²</div>
        </div>
    </ui:define>

    <ui:define name="description">
        <p:outputLabel for="description" value="Beschreibung"/>
        <p:message id="idDescription" for="description"/>
        <div class="ui-inputgroup">
            <div class="ui-inputgroup-addon">
                <i class="pi pi-user">
                </i></div>
            <p:inputTextarea id="description" rows="12" cols="90" placeholder="Beschreibung"
                             value="#{advertisementBean.description}" required="true"
                             requiredMessage="Bitte Beschreibung angeben"/>
        </div>

    </ui:define>

    <ui:define name="category">
        <p:outputLabel for="categorySelect" value="Kategorie"/>
        <p:message id="idCategory" for="categorySelect"/>
        <p:selectOneMenu id="categorySelect" value="#{advertisementBean.categoryList[0]}" required="true"
                         requiredMessage="Bitte Kategorie angeben">
            <c:forEach var="categoryCount" items="#{advertisementBean.categoryList}">
                <f:selectItem itemLabel="${categoryCount}" itemValue="${categoryCount}"/>
            </c:forEach>
        </p:selectOneMenu>
    </ui:define>

    <ui:define name="street">
        <p:outputLabel for="street" value="Strasse und Nummer"/>
        <p:message id="idStreet" for="street"/>
        <div class="ui-inputgroup pb-3">
            <p:inputText id="street" placeholder="Musterstrasse" value="#{advertisementBean.street}" required="true"
                         requiredMessage="Bitte Strasse angeben"/>
        </div>
    </ui:define>

    <ui:define name="city">
        <p:outputLabel for="city" value="Stadt"/>
        <p:message id="idCity" for="city"/>
        <div class="ui-inputgroup pb-3">
            <p:inputText id="city" placeholder="Musterhausen" value="#{advertisementBean.city}" required="true"
                         requiredMessage="Bitte Stadt angeben"/>
        </div>
    </ui:define>

    <ui:define name="postalCode">
        <p:outputLabel for="postalCode" value="Postleitzahl"/>
        <p:message id="idPostalCode" for="postalCode"/>
        <div class="ui-inputgroup">
            <p:inputNumber id="postalCode" value="#{advertisementBean.postalCode}" placeholder="8000" required="true"
                           requiredMessage="Bitte PLZ angeben">
                <f:validateLength minimum="4" maximum="4"/>
            </p:inputNumber>
        </div>
    </ui:define>

    <ui:define name="buyprice">
        <p:outputLabel for="price" value="Preis"/>
        <p:message id="idBuyPrice" for="price"/>
        <div class="ui-inputgroup">
            <div class="ui-inputgroup-addon">CHF</div>
            <p:inputNumber id="price" value="#{advertisementBean.price}" required="true"
                           requiredMessage="Bitte Preis angeben"/>
        </div>
    </ui:define>

    <ui:define name="date">
        <p:outputLabel for="datumDescription" value="Datum der Veröffentlichung"/>
        <p:inputText id="datumDescription" value="Heute" disabled="true"/>
    </ui:define>

    <ui:define name="fileupload">
        <p:outputLabel id="fileUpload" value="Bild hochladen"/>
    </ui:define>

    <ui:define name="sendButton">
        <p:commandButton id="submit-button" value="Veröffentlichen" icon="pi pi-upload"
                         action="#{advertisementBean.createAdvertisement}" update="@form"
                         styleClass="ui-button-success"/>
    </ui:define>

    <ui:define name="content">
        <ui:include src="/WEB-INF/layouts/forms/createAdvertisement.xhtml"/>
    </ui:define>

</ui:composition>